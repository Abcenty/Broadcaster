Делаю бота для рассылок новосте по тг каналам

Перечень его функционала:

1) Бот должен уметь подключаться к телеграмм каналам и отправлять туда сообщения

2) Сообщения должны из себя представлять изображение и/или текст

3) Сам бот должен представлять из себя админ панель с интерфейсом по отправке сообщения

-start - бот проверяет есть ли пользователь, который обращается к боту в списке администраторов,
если да, то дает доступ к интерфейсу, если нет, то выводит сообщение об ощибке

Панель администратора:
-Провести рассылку
    -Выводит сообщение "Введите сообщение для рассылки"
    -Позволяет отправить медиафайл и/или текст
    -После завершения рассылки отправит уведомление о завершении рассылки
-Подключить канал
    -Выводит сообщение "Введите название канала"
    -Позволяет ввести название канала
-Показать подключенные каналы (опционально)
    -Выводит список подключенных каналов
-Статистика по последней рассылке (опционально)
    -Выводит количество успешных и неуспешных отправок сообщения послденей рассылки

Требования по техническим характеристикам:

-Бот потенциально должен справлять с рассылкой по 600 каналам
-Ограничение доступа лиц, не зарегистрированных как администратор

Требования по технической реализации:
-Ради повышения отказоусточивости и масштабируемости, реализовать
рассылку через добавление сообщения в очередь rabbitmq
-Использовать асинхронную библиотеку aiogram
-Секреты обязательно спрятать в переменные окружения
-Используй postgresql для хранения пользователей, у которых есть доступ
к панели управления и для хранения подключенных каналов
-База данных и логика будет хранится в приложении tg_bot_publisher (сервер),
broadcaster (клиент) только принимает сообщения и рассылает их куда требуется.

__________________________________________________________________________________
Закончил на том, что надо убрать бота из функции мейн чтобы пробросить его
в хендлер рассылки
